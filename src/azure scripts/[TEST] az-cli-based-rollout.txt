#https://learn.microsoft.com/en-us/azure/aks/learn/quick-kubernetes-deploy-cli


$rg="salman-k8s-demo"
$rgLocation=""
$clusterName="k8sdemocluster"
$acr=""

az login
az account show
az account set --subscription $subscription

az group create --name $rg --location $rgLocation

az acr create --resource-group $rg --name $acr --sku Basic

az acr login --name $acr



az aks create -g $rg -n $clusterName --enable-managed-identity --node-count 2 --enable-addons monitoring --enable-msi-auth-for-monitoring  --generate-ssh-keys --attach-acr $acr


az aks install-cli
az aks get-credentials --resource-group $rg --name $clusterName


az group delete --name myResourceGroup --yes --no-wait
